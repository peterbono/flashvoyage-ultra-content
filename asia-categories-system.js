#!/usr/bin/env node

// Syst√®me de cat√©gorisation ultra-sp√©cialis√© Asie pour FlashVoyages
export const ASIA_CATEGORIES = {
  // Par type de voyageur
  'digital-nomad': {
    name: 'Digital Nomad Asie',
    description: 'Conseils pour les nomades digitaux en Asie',
    keywords: ['coworking', 'wifi', 'visa long s√©jour', 'coliving', 'productivit√©']
  },
  'backpacker': {
    name: 'Backpacker Asie', 
    description: 'Guide backpacker pour l\'Asie du Sud-Est',
    keywords: ['auberge', 'budget', 'transport local', 'rencontres', 'aventure']
  },
  'luxury-traveler': {
    name: 'Luxe Asie',
    description: 'Voyages haut de gamme en Asie',
    keywords: ['5 √©toiles', 'spa', 'gastronomie', 'h√¥tels de luxe', 'exp√©riences exclusives']
  },
  'family-asia': {
    name: 'Famille Asie',
    description: 'Voyager en famille en Asie',
    keywords: ['enfants', 's√©curit√©', 'activit√©s familiales', 'h√©bergement adapt√©', 'sant√©']
  },
  'solo-female': {
    name: 'Solo F√©minin Asie',
    description: 'Conseils pour voyager seule en Asie',
    keywords: ['s√©curit√© femme', 'h√©bergement s√ªr', 'transport s√©curis√©', 'communaut√©', 'autonomie']
  },
  
  // Par exp√©rience
  'first-time-asia': {
    name: 'Premier voyage Asie',
    description: 'Guide pour votre premier voyage en Asie',
    keywords: ['d√©butant', 'pr√©paration', 'essentiels', 'erreurs √† √©viter', 'premiers pas']
  },
  'asia-expert': {
    name: 'Expert Asie',
    description: 'Pour les voyageurs exp√©riment√©s',
    keywords: ['destinations secr√®tes', 'exp√©riences uniques', 'conseils avanc√©s', 'insider tips']
  },
  'off-the-beaten-path': {
    name: 'Hors des sentiers battus',
    description: 'Destinations secr√®tes et authentiques',
    keywords: ['authentique', 'local', 'secret', 'peu touristique', 'd√©couverte']
  },
  
  // Par budget
  'budget-asia': {
    name: 'Budget serr√© Asie',
    description: 'Voyager en Asie avec un petit budget',
    keywords: ['√©conomies', 'gratuit', 'bon march√©', 'astuces budget', 'low cost']
  },
  'mid-range-asia': {
    name: 'Confort Asie',
    description: 'Voyage confortable sans se ruiner',
    keywords: ['confort', 'qualit√©-prix', '√©quilibr√©', 'mod√©r√©', 'accessible']
  },
  'premium-asia': {
    name: 'Premium Asie',
    description: 'Exp√©riences premium en Asie',
    keywords: ['premium', 'qualit√©', 'exclusif', 'haut de gamme', 'exceptionnel']
  },
  
  // Par saison
  'monsoon-season': {
    name: 'Saison des pluies',
    description: 'Voyager pendant la mousson',
    keywords: ['mousson', 'pluie', 'saison humide', 'pr√©paratifs', 'activit√©s int√©rieures']
  },
  'peak-season': {
    name: 'Haute saison',
    description: 'Voyager en haute saison',
    keywords: ['haute saison', 'r√©servation', 'prix √©lev√©s', 'foule', 'planification']
  },
  'shoulder-season': {
    name: 'Mi-saison',
    description: 'La meilleure p√©riode pour voyager',
    keywords: ['mi-saison', 'optimal', 'prix raisonnables', 'm√©t√©o favorable', 'moins de monde']
  },
  
  // Par type d'exp√©rience
  'street-food': {
    name: 'Street Food',
    description: 'D√©couvrir la street food asiatique',
    keywords: ['nourriture de rue', 'gastronomie locale', 'sp√©cialit√©s', 'march√©s', 'saveurs']
  },
  'temples': {
    name: 'Temples & Spiritualit√©',
    description: 'Temples et lieux spirituels d\'Asie',
    keywords: ['temple', 'spiritualit√©', 'bouddhisme', 'hindouisme', 'm√©ditation']
  },
  'beaches': {
    name: 'Plages & √éles',
    description: 'Plages paradisiaques d\'Asie',
    keywords: ['plage', '√Æle', 'paradis', 'farniente', 'eau turquoise']
  },
  'mountains': {
    name: 'Montagnes & Trek',
    description: 'Randonn√©es et treks en Asie',
    keywords: ['trek', 'randonn√©e', 'montagne', 'nature', 'aventure']
  },
  'cities': {
    name: 'M√©galopoles',
    description: 'Villes dynamiques d\'Asie',
    keywords: ['m√©gapole', 'urbain', 'moderne', 'dynamique', 'm√©tropole']
  },
  'rural': {
    name: 'Campagne & Villages',
    description: 'D√©couvrir la vie rurale asiatique',
    keywords: ['village', 'rural', 'traditions', 'authentique', 'local']
  }
};

export const ASIA_ANALYSIS_CONTEXT = {
  // Contexte culturel
  'cultural-etiquette': {
    name: 'Savoir-vivre local',
    description: 'R√®gles de politesse et coutumes locales',
    keywords: ['√©tiquette', 'coutumes', 'politesse', 'respect', 'traditions']
  },
  'language-tips': {
    name: 'Expressions utiles',
    description: 'Phrases essentielles pour voyager',
    keywords: ['langue', 'expressions', 'communication', 'traduction', 'local']
  },
  'local-insights': {
    name: 'Secrets d\'initi√©s',
    description: 'Conseils que seuls les locaux connaissent',
    keywords: ['secret', 'local', 'initi√©', 'conseil', 'astuce']
  },
  
  // Contexte pratique
  'visa-complexity': {
    name: 'Complexit√© des visas',
    description: 'G√©rer les formalit√©s de visa',
    keywords: ['visa', 'formalit√©s', 'documents', 'proc√©dure', 'd√©lai']
  },
  'transport-options': {
    name: 'Options de transport local',
    description: 'Se d√©placer efficacement en Asie',
    keywords: ['transport', 'd√©placement', 'local', 'efficace', 'pratique']
  },
  'safety-concerns': {
    name: 'S√©curit√© sp√©cifique',
    description: 'Conseils de s√©curit√© pour l\'Asie',
    keywords: ['s√©curit√©', 'pr√©cautions', 'risque', 'protection', 'vigilance']
  },
  'health-considerations': {
    name: 'Sant√© & vaccins',
    description: 'Pr√©parer sa sant√© pour l\'Asie',
    keywords: ['sant√©', 'vaccin', 'm√©dicament', 'pr√©vention', 'soins']
  },
  
  // Contexte √©conomique
  'currency-fluctuation': {
    name: 'Fluctuation des devises',
    description: 'G√©rer les taux de change',
    keywords: ['devise', 'taux de change', 'euro', 'monnaie locale', '√©conomie']
  },
  'bargaining-tips': {
    name: 'Art de la n√©gociation',
    description: 'N√©gocier comme un local',
    keywords: ['n√©gociation', 'marchandage', 'prix', 'astuce', 'local']
  },
  'local-costs': {
    name: 'Co√ªts locaux r√©els',
    description: 'Budget r√©el pour vivre en Asie',
    keywords: ['co√ªt', 'budget', 'prix local', 'r√©el', 'quotidien']
  },
  'tourist-traps': {
    name: 'Pi√®ges √† touristes',
    description: '√âviter les arnaques touristiques',
    keywords: ['pi√®ge', 'arnaque', 'touriste', '√©viter', 'pr√©caution']
  }
};

export const ASIA_FOMO_TITLES = {
  'visa': [
    'üö® URGENT : {country} simplifie les visas pour les Fran√ßais !',
    '‚ö° {country} : Visa gratuit confirm√© - D√©p√™chez-vous !',
    'üî• R√âVOLUTION : {country} supprime les formalit√©s !',
    'üéØ {country} : Nouveau visa express en 24h !',
    'üöÄ {country} : Formalit√©s r√©duites de 50% !'
  ],
  'flights': [
    '‚úàÔ∏è {country} : Nouveaux vols directs - Prix en chute libre !',
    'üöÄ {country} : Compagnies en guerre des prix !',
    '‚ö° {country} : Vols directs r√©tablis - R√©servez MAINTENANT !',
    'üî• OFFRE LIMIT√âE : Vols {country} √† prix cass√©s !',
    'üéØ {country} : Vols directs confirm√©s - Ne ratez pas √ßa !'
  ],
  'safety': [
    '‚ö†Ô∏è {country} : Nouvelles r√®gles de s√©curit√© - Info cruciale !',
    'üõ°Ô∏è {country} : Zones √† √©viter mises √† jour !',
    'üö® {country} : Alerte voyageurs - Lisez avant de partir !',
    '‚ö†Ô∏è URGENT : {country} modifie ses r√®gles de s√©curit√© !',
    'üõ°Ô∏è {country} : Nouveaux conseils s√©curit√© pour les Fran√ßais !'
  ],
  'deals': [
    'üí∞ {country} : H√¥tels √† prix cass√©s - Offre limit√©e !',
    'üéØ {country} : S√©jour de r√™ve √† -50% !',
    'üî• {country} : Deal exceptionnel - Ne ratez pas √ßa !',
    'üíé {country} : Offre secr√®te r√©v√©l√©e !',
    'üéÅ {country} : Cadeau surprise pour nos lecteurs !'
  ],
  'cultural': [
    'üé≠ {country} : √âv√©nement culturel unique - Info exclusive !',
    'üèõÔ∏è {country} : Nouveau temple ouvert au public !',
    'üé® {country} : Festival secret d√©couvert !',
    'üé™ {country} : C√©r√©monie traditionnelle exceptionnelle !',
    'üéä {country} : F√™te locale √† ne pas manquer !'
  ]
};

export const ASIA_SCORING_SYSTEM = {
  'relevance': {
    'asia-specific': 25, // Info sp√©cifique √† l'Asie
    'french-traveler': 20, // Pertinence pour voyageurs fran√ßais
    'practical-value': 15, // Valeur pratique imm√©diate
    'cultural-insight': 10, // Insight culturel
    'safety-info': 10, // Info s√©curit√©
    'cost-impact': 10, // Impact sur le budget
    'timing': 10 // Actualit√© r√©cente
  },
  
  'emotional_triggers': {
    'fomo': 15, // Fear of missing out
    'exclusivity': 10, // Exclusivit√©
    'urgency': 10, // Urgence
    'dream': 10, // R√™ve/aspiration
    'fear': 5 // Peur (s√©curit√©, etc.)
  },
  
  'content_quality': {
    'originality': 15, // Originalit√© du contenu
    'seo_potential': 10, // Potentiel SEO
    'viral_potential': 10, // Potentiel viral
    'expertise': 10, // Niveau d'expertise
    'actionability': 10 // Capacit√© d'action
  }
};

export const VOICE_TONE_ASIA = {
  'expertise': 'Expert Asie reconnu',
  'complicity': 'Complice avec la communaut√©',
  'cleverness': 'Malin et astucieux', 
  'confidence': 'S√ªr de ses conseils',
  'asia-focused': '100% concentr√© sur l\'Asie',
  'french-perspective': 'Vue fran√ßaise sur l\'Asie',
  'cultural-sensitivity': 'Respectueux des cultures',
  'practical': 'Concret et applicable'
};

// Fonction pour g√©n√©rer un titre FOMO sp√©cialis√© Asie
export function generateAsiaFOMOTitle(country, articleType, originalTitle = '') {
  const countryFrench = country === 'china' ? 'Chine' :
                       country === 'korea' ? 'Cor√©e du Sud' :
                       country === 'japan' ? 'Japon' :
                       country === 'vietnam' ? 'Vietnam' :
                       country === 'thailand' ? 'Tha√Ølande' :
                       country === 'singapore' ? 'Singapour' :
                       country === 'malaysia' ? 'Malaisie' :
                       country === 'indonesia' ? 'Indon√©sie' :
                       country === 'philippines' ? 'Philippines' :
                       country === 'taiwan' ? 'Ta√Øwan' :
                       country === 'hong kong' ? 'Hong Kong' :
                       country;

  const templates = ASIA_FOMO_TITLES[articleType] || ASIA_FOMO_TITLES['deals'];
  const randomTemplate = templates[Math.floor(Math.random() * templates.length)];
  
  return randomTemplate.replace('{country}', countryFrench);
}

// Fonction pour scorer un article selon le syst√®me Asie
export function scoreAsiaArticle(article, title, content) {
  let score = 0;
  let reasons = [];
  
  // Scoring de pertinence
  const asiaKeywords = ['asia', 'chinese', 'japanese', 'korean', 'vietnamese', 'thai', 'singapore', 'malaysia', 'indonesia', 'philippines', 'taiwan', 'hong kong'];
  const frenchKeywords = ['french', 'france', 'fran√ßais', 'european'];
  const practicalKeywords = ['visa', 'flight', 'hotel', 'travel', 'safety', 'cost', 'budget'];
  
  // V√©rifier la pertinence Asie
  const asiaRelevance = asiaKeywords.some(keyword => 
    title.toLowerCase().includes(keyword) || content.toLowerCase().includes(keyword)
  );
  if (asiaRelevance) {
    score += ASIA_SCORING_SYSTEM.relevance['asia-specific'];
    reasons.push('Pertinence Asie: 25 points');
  }
  
  // V√©rifier la pertinence voyageurs fran√ßais
  const frenchRelevance = frenchKeywords.some(keyword => 
    title.toLowerCase().includes(keyword) || content.toLowerCase().includes(keyword)
  );
  if (frenchRelevance) {
    score += ASIA_SCORING_SYSTEM.relevance['french-traveler'];
    reasons.push('Pertinence voyageurs fran√ßais: 20 points');
  }
  
  // V√©rifier la valeur pratique
  const practicalRelevance = practicalKeywords.some(keyword => 
    title.toLowerCase().includes(keyword) || content.toLowerCase().includes(keyword)
  );
  if (practicalRelevance) {
    score += ASIA_SCORING_SYSTEM.relevance['practical-value'];
    reasons.push('Valeur pratique: 15 points');
  }
  
  // Scoring √©motionnel
  const fomoKeywords = ['urgent', 'urgent', 'limited', 'exclusive', 'secret', 'now', 'immediately'];
  const fomoRelevance = fomoKeywords.some(keyword => 
    title.toLowerCase().includes(keyword) || content.toLowerCase().includes(keyword)
  );
  if (fomoRelevance) {
    score += ASIA_SCORING_SYSTEM.emotional_triggers['fomo'];
    reasons.push('Trigger FOMO: 15 points');
  }
  
  return {
    score,
    reasons,
    strategicValue: score >= 70 ? 'high' : score >= 50 ? 'medium' : 'low'
  };
}

